{% extends "layout.html" %}

{% block content %}

<div class="row clearfix">
    <form method="post" action="/articles/write">
        <div class="col-md-12 column">
            <div class="row clearfix">
                <div class="col-md-6 column">
                    <input class="form-control" name="title" placeholder="文章标题">
                </div>
                <div class="col-md-4 column">
                    <input class="form-control" name="labels" placeholder="标签(;分割)">
                </div>
                <div class="col-md-2 column">
                    <button class="btn btn-default" type="submit">发表</button>
                </div>
            </div>
            <br>
            <div class="row clearfix">
                <div class="col-md-6 column">
                    <textarea id="oriContent" class="form-control" onkeyup="convert()" name="content"
                              rows="40">使用MarkDown语法编辑您的文章</textarea>
                </div>
                <div class="col-md-6 column">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <div id="preview" class="form-control">使用MarkDown语法编辑您的文章</div>
                            <script type="text/javascript">
                            function convert(){
                                var text = document.getElementById("oriContent").value;
                                var converter = new showdown.Converter();
                                var html = converter.makeHtml(text);
                                document.getElementById("preview").innerHTML = html;
                            }
                            </script>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
{% endblock %}
